{% extends 'admin/adminbase.html' %} {% block style %}
<style>
  .graph {
    margin-bottom: 1em;
    font: normal 100%/150% arial, helvetica, sans-serif;
  }

  .graph caption {
    font: bold 150%/120% arial, helvetica, sans-serif;
    padding-bottom: 0.33em;
  }

  .graph tbody th {
    text-align: right;
  }

  @supports (display: grid) {
    @media (min-width: 32em) {
      .graph {
        display: block;
        width: 400px;
        height: 200px;
      }

      .graph caption {
        display: block;
      }

      .graph thead {
        display: none;
      }

      .graph tbody {
        position: relative;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(2em, 1fr));
        column-gap: 2.5%;
        align-items: end;
        height: 100%;
        margin: 3em 0 1em 2.8em;
        padding: 0 1em;
        border-bottom: 2px solid rgba(0, 0, 0, 0.5);
        background: repeating-linear-gradient(180deg,
            rgba(170, 170, 170, 0.7) 0,
            rgba(170, 170, 170, 0.7) 1px,
            transparent 1px,
            transparent 20%);
      }

      .graph tbody:before,
      .graph tbody:after {
        position: absolute;
        left: -3.2em;
        width: 2.8em;
        text-align: right;
        font: bold 80%/120% arial, helvetica, sans-serif;
      }

      .graph tbody:before {
        content: "100%";
        top: -0.6em;
      }

      .graph tbody:after {
        content: "0%";
        bottom: -0.6em;
      }

      .graph tr {
        position: relative;
        display: block;
      }

      .graph tr:hover {
        z-index: 999;
      }

      .graph th,
      .graph td {
        display: block;
        text-align: center;
      }

      .graph tbody th {
        position: absolute;
        top: -3em;
        left: 0;
        width: 100%;
        font-weight: normal;
        text-align: center;
        white-space: nowrap;
        text-indent: 0;
        transform: rotate(-45deg);
      }

      .graph tbody th:after {
        content: "";
      }

      .graph td {
        width: 100%;
        height: 100%;
        background: #f63;
        border-radius: 0.5em 0.5em 0 0;
        transition: background 0.5s;
      }

      .graph tr:hover td {
        opacity: 0.7;
      }

      .graph td span {
        overflow: hidden;
        position: absolute;
        left: 50%;
        top: 50%;
        width: 0;
        padding: 0.5em 0;
        margin: -1em 0 0;
        font: normal 85%/120% arial, helvetica, sans-serif;
        /* 			background:white; */
        /* 			box-shadow:0 0 0.25em rgba(0,0,0,0.6); */
        font-weight: bold;
        opacity: 0;
        transition: opacity 0.5s;
        color: white;
      }

      .toggleGraph:checked+table td span,
      .graph tr:hover td span {
        width: 4em;
        margin-left: -2em;
        /* 1/2 the declared width */
        opacity: 1;
      }
    }

    /* min-width:32em */
  }

  /* grid only */
</style>
{% endblock %} {% block pagewrapper %}
<!-- Page Wrapper -->
<div class="page-wrapper">
  <div class="content container-fluid">
    <!-- Page Header -->
    <div class="page-header">
      <div class="row">
        <div class="col-sm-12">
          <h3 class="page-title">Welcome Admin!</h3>
          <ul class="breadcrumb">
            <li class="breadcrumb-item active">Dashboard</li>
          </ul>
        </div>
      </div>
    </div>
    <!-- /Page Header -->

    <!-- Overview Section -->
    <div class="row">
      <div class="col-xl-3 col-sm-6 col-12">
        <div class="card bg-one">
          <div class="card-body">
            <div class="db-widgets d-flex justify-content-between align-items-center">
              <div class="db-icon">
                <i class="fas fa-user-graduate"></i>
              </div>
              <div class="db-info">
                <h3>{{ count_student }}</h3>
                <h6>Students</h6>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-sm-6 col-12">
        <div class="card bg-two">
          <div class="card-body">
            <div class="db-widgets d-flex justify-content-between align-items-center">
              <div class="db-icon">
                <i class="fas fa-crown"></i>
              </div>
              <div class="db-info">
                <h3>{{ count_faculty }}</h3>
                <h6>Faculties</h6>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-sm-6 col-12">
        <div class="card bg-three">
          <div class="card-body">
            <div class="db-widgets d-flex justify-content-between align-items-center">
              <div class="db-icon">
                <i class="fas fa-building"></i>
              </div>
              <div class="db-info">
                <h3>{{ count_dept }}</h3>
                <h6>Departments</h6>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-sm-6 col-12">
        <div class="card bg-four">
          <div class="card-body">
            <div class="db-widgets d-flex justify-content-between align-items-center">
              <div class="db-icon">
                <i class="fas fa-file-invoice"></i>
              </div>
              <div class="db-info">
                <h3>{{ count_course }}</h3>
                <h6>Courses</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /Overview Section -->

    <div class="row">
      <div class="col-md-6 d-flex">
        <!-- Star Students -->
        <div class="card flex-fill">
          <div class="card-header">
            <h5 class="card-title">Star Students</h5>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover table-center">
                <thead class="thead-light">
                  <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th class="text-center">Percentage</th>
                    <th class="text-right">sem</th>
                  </tr>
                </thead>
                <tbody>
                  {% for student in star_student %}
                  <tr>
                    <td class="text-nowrap">
                      <div>{{ student[0] }}</div>
                    </td>
                    <td class="text-nowrap">{{ student[1] }}</td>
                    <td class="text-center">{{ student[3] }}</td>
                    <td class="text-right">
                      <div>{{ student[4] | int }}</div>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- /Star Students -->
      </div>

      <div class="col-md-12 col-lg-6">
        <!-- Student Chart -->
        <div class="card card-chart">
          <div class="card-header">
            <div class="row align-items-center">
              <div class="col-6">
                <h5 class="card-title">Number of Students</h5>
              </div>
              <div class="col-6">
                <ul class="list-inline-group text-right mb-0 pl-0">
                  <li class="list-inline-item">
                    <div class="form-group mb-0 amount-spent-select">
                      <select class="form-control form-control-sm">
                        <option>Today</option>
                        <option>Last Week</option>
                        <option>Last Month</option>
                      </select>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="card-body" style="height: 400px">
            <table class="graph">
              <caption>
                Student Year-Wise Distribution
              </caption>
              <thead>
                <tr>
                  <th scope="col">Item</th>
                  <th scope="col">Percent</th>
                </tr>
              </thead>
              <tbody>
                {% for items in count_year %}
                <tr style="height: {{items[1]~'0%'}}">
                  <th scope="row">{{items[0]}}</th>
                  <td><span>{{items[1]}}</span></td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
        <!-- /Student Chart -->
      </div>
    </div>

    <div class="row">
      <div class="col-md-6 d-flex">
        <!-- Star Students -->
        <div class="card flex-fill">
          <div class="card-header">
            <h5 class="card-title">Top Faculty</h5>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover table-center">
                <thead class="thead-light">
                  <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th class="text-center">Courses</th>
                    <th class="text-right">Year</th>
                  </tr>
                </thead>
                <tbody>
                  {% for faculty in star_faculty %}
                  <tr>
                    <td class="text-nowrap">
                      <div>{{ faculty[0] }}</div>
                    </td>
                    <td class="text-nowrap">{{ faculty[1] }}</td>
                    <td class="text-center">{{ faculty[2] }}</td>
                    <td class="text-center">{{ faculty[3] }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- /Star Students -->
      </div>

      <div class="col-md-6 d-flex">
        <!-- Feed Activity -->
        <div class="card flex-fill">
          <div class="card-header">
            <h5 class="card-title">Student Activity</h5>
          </div>
          <div class="card-body">
            <ul class="activity-feed">
              <li class="feed-item">
                <div class="feed-date">Apr 13</div>
                <span class="feed-text"><a>John Doe</a> won 1st place in <a>"Chess"</a></span>
              </li>
              <li class="feed-item">
                <div class="feed-date">Mar 21</div>
                <span class="feed-text"><a>Justin Lee</a> participated in
                  <a href="invoice.html">"Carrom"</a></span>
              </li>
              <li class="feed-item">
                <div class="feed-date">Feb 2</div>
                <span class="feed-text"><a>Justin Lee</a>attended internation conference in
                  <a href="profile.html">"St.John School"</a></span>
              </li>
              <li class="feed-item">
                <div class="feed-date">Apr 13</div>
                <span class="feed-text"><a>John Doe</a> won 1st place in <a>"Chess"</a></span>
              </li>
              <li class="feed-item">
                <div class="feed-date">Mar 21</div>
                <span class="feed-text"><a>Justin Lee</a> participated in
                  <a href="invoice.html">"Carrom"</a></span>
              </li>
            </ul>
          </div>
        </div>
        <!-- /Feed Activity -->
      </div>
    </div>

    <!-- Socail Media Follows -->
    <div class="row">
      <div class="col-xl-3 col-sm-6 col-12">
        <div class="card flex-fill fb sm-box">
          <i class="fab fa-facebook"></i>
          <h6>50,095</h6>
          <p>Likes</p>
        </div>
      </div>
      <div class="col-xl-3 col-sm-6 col-12">
        <div class="card flex-fill twitter sm-box">
          <i class="fab fa-twitter"></i>
          <h6>48,596</h6>
          <p>Follows</p>
        </div>
      </div>

      <div class="col-xl-3 col-sm-6 col-12">
        <div class="card flex-fill insta sm-box">
          <i class="fab fa-instagram"></i>
          <h6>52,085</h6>
          <p>Follows</p>
        </div>
      </div>

      <div class="col-xl-3 col-sm-6 col-12">
        <div class="card flex-fill linkedin sm-box">
          <i class="fab fa-linkedin-in"></i>
          <h6>69,050</h6>
          <p>Follows</p>
        </div>
      </div>
    </div>
    <!-- /Socail Media Follows -->
  </div>

  <!-- Footer -->
  <footer>
    <p>Copyright © 2021 IIT Indore.</p>
  </footer>
  <!-- /Footer -->
</div>
<!-- /Page Wrapper -->
{% endblock %}